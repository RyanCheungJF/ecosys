USE GRAPH ldbc_snb
SET syntax_version = "v2"
CREATE OR REPLACE QUERY del_Post(STRING file) {
  SetAccum<VERTEX<Post>> @@posts;
  UINT result;
  @@posts = { LoadAccum(file, $1, "|", true)}; 
  posts = {@@posts};
  # del 6 7
  replies = SELECT c FROM posts -(<REPLY_OF*)- (Post|Comment):c;
  allv = posts UNION replies;
  DELETE v FROM allv:v;
  result = allv.size();
  print result;
}
